<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>How to Squash Git Commits</title>
    <link href="/Template/Theme/bootstrap.min.css" rel="stylesheet">
    <link href="/Template/Syntax-Highlighting/vs2015.min.css" rel="stylesheet">
    <link href="/Template/Theme/customizations.css" rel="stylesheet">
</head>

<body>
    <textarea id="Markdown-input" cols="80" rows="24">
# How to Squash Git Commits

## How to Squash the Last N Commits in the Current Branch

Say N is 3.

The last 3 commits in the current branch are: `HEAD~2`, `HEAD~`, and
`HEAD`.

### [`rebase -i`](https://git-scm.com/docs/git-rebase/2.20.0#Documentation/git-rebase.txt--i) for Control

```Bash
git rebase -i HEAD~3
```

`rebase -i HEAD~3` lets the user decide how to reapply each of "the
commits after `HEAD~3`" on top of `HEAD~3`.

* [`-i`](https://git-scm.com/docs/git-rebase/2.20.0#Documentation/git-rebase.txt--i)
  is short for
  [`--interactive`](https://git-scm.com/docs/git-rebase/2.20.0#Documentation/git-rebase.txt---interactive).
* "The commits after `HEAD~3`" are: `HEAD~2`, `HEAD~`, and `HEAD`.

### [`reset --soft`](https://git-scm.com/docs/git-reset/2.20.0#Documentation/git-reset.txt---soft) for Simplicity

```Bash
git reset --soft HEAD~3
```

`reset --soft HEAD~3` resets `HEAD` to `HEAD~3`.

* Resetting `HEAD` to `HEAD~3` removes `HEAD~2`, `HEAD~`, and `HEAD`.
* The `--soft` option leaves the removed commits' changes as is.

## How to Squash a Branch

### [`merge --squash`](https://git-scm.com/docs/git-merge/2.20.0#Documentation/git-merge.txt---squash)
```Bash
git merge --squash _branch_
```

`merge --squash _branch_` stages all of `_branch_`'s changes in the
current branch.
    </textarea>
    <div id="HTML-output"></div>
    <div lang="en">
        <a href="https://github.com/twy30/twy30.github.io/discussions/categories/chat-q-a">
            Chat / Q&A
        </a>
    </div>
    <div lang="zh-Hant">
        <a href="https://github.com/twy30/twy30.github.io/discussions/categories/%E9%96%92%E8%81%8A-%E5%95%8F%E7%AD%94">
            閒聊／問答
        </a>
    </div>
    <script defer src="/Template/Markdown-to-HTML/commonmark.min.js"></script>
    <script defer src="/Template/Markdown-to-HTML/initialize.js"></script>
    <script defer src="/Template/Theme/bootstrap.bundle.min.js"></script>
    <script defer src="/Template/Syntax-Highlighting/highlight.min.js"></script>
    <script defer src="/Template/Syntax-Highlighting/initialize.js"></script>
</body>

</html>
